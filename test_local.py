#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞
–ó–∞–ø—É—Å–∫: python test_local.py
"""

import os
import asyncio
from dotenv import load_dotenv

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
load_dotenv()

# –¢–µ—Å—Ç–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
os.environ['BOT_TOKEN'] = 'TEST_TOKEN'  # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
os.environ['ADMIN_ID'] = '123456789'    # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à Telegram ID
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ WEBHOOK_URL

def main():
    """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º—ñ polling –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è"""
    print("ü§ñ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è...")
    print("üìù –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π BOT_TOKEN")
    print("üîÑ –ë–æ—Ç –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –≤ polling —Ä–µ–∂–∏–º—ñ (–±–µ–∑ webhook)")
    print("‚èπÔ∏è –î–ª—è –∑—É–ø–∏–Ω–∫–∏ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+C")
    print("-" * 50)
    
    try:
        # –Ü–º–ø–æ—Ä—Ç —Ç–∞ –∑–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è
        from main import main as bot_main
        bot_main()
    except KeyboardInterrupt:
        print("\nüõë –ë–æ—Ç –∑—É–ø–∏–Ω–µ–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º")
    except Exception as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–ø—É—Å–∫—É: {e}")
        print("üîß –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞")

if __name__ == "__main__":
    main()